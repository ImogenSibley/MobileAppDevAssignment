{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport CustomButtonSmall from \"../../components/customButtonSmall\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar FriendRequests = function FriendRequests(_ref) {\n  var navigate = _ref.navigate;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      friendRequests = _useState2[0],\n      setFriendRequests = _useState2[1];\n\n  var getFriendRequests = function getFriendRequests() {\n    var value, userID;\n    return _regeneratorRuntime.async(function getFriendRequests$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@session_token'));\n\n          case 2:\n            value = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@user_id'));\n\n          case 5:\n            userID = _context.sent;\n            return _context.abrupt(\"return\", fetch(\"http://localhost:3333/api/1.0.0/friendrequests\", {\n              'headers': {\n                'X-Authorization': value\n              }\n            }).then(function (response) {\n              if (response.status === 200) {\n                return response.json();\n              } else if (response.status === 401) {\n                _this.props.navigation.navigate(\"Login\");\n              } else {\n                throw 'Something went wrong';\n              }\n            }).then(function (responseJson) {\n              console.log(responseJson);\n              setFriendRequests(responseJson);\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var onAccept = function onAccept(requestedUserID) {\n    var value;\n    return _regeneratorRuntime.async(function onAccept$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@session_token'));\n\n          case 2:\n            value = _context2.sent;\n            return _context2.abrupt(\"return\", fetch(\"http://localhost:3333/api/1.0.0/friendrequests/\" + requestedUserID, {\n              method: \"POST\",\n              'headers': {\n                'X-Authorization': value\n              }\n            }).then(function (response) {\n              if (response.status === 200 || response.status === 201) {\n                return response.json();\n              } else if (response.status === 401) {\n                _this.props.navigation.navigate(\"Login\");\n              } else {\n                throw 'Something went wrong';\n              }\n            }).then(function (responseJson) {\n              console.log(responseJson);\n              console.log(\"Request Accepted.\");\n            }).catch(function (error) {\n              console.warn(error);\n            }));\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var onReject = function onReject(requestedUserID) {\n    var value;\n    return _regeneratorRuntime.async(function onReject$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@session_token'));\n\n          case 2:\n            value = _context3.sent;\n            return _context3.abrupt(\"return\", fetch(\"http://localhost:3333/api/1.0.0/friendrequests/\" + requestedUserID, {\n              method: \"DELETE\",\n              'headers': {\n                'X-Authorization': value\n              }\n            }).then(function (response) {\n              console.log(response.status);\n\n              if (response.status === 200 || response.status === 201) {\n                return response.json();\n              } else if (response.status === 401) {\n                navigation.navigate(\"Login\");\n              } else {\n                throw 'Something went wrong';\n              }\n            }).then(function (responseJson) {\n              console.log(responseJson);\n              console.log(\"Request Rejected.\");\n            }).catch(function (error) {\n              console.warn(error);\n            }));\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var checkLoggedIn = function checkLoggedIn() {\n    var value;\n    return _regeneratorRuntime.async(function checkLoggedIn$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@session_token'));\n\n          case 2:\n            value = _context4.sent;\n\n            if (value == null) {\n              navigation.navigate('Login');\n            }\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var ItemView = function ItemView(_ref2) {\n    var item = _ref2.item;\n\n    if (friendRequests.length === 0) {\n      console.log(\"0 New Requests.\");\n      return _jsx(View, {\n        children: _jsx(Text, {\n          style: styles.text,\n          children: \"0 New Requests.\"\n        })\n      });\n    } else {\n      return _jsx(View, {\n        children: _jsxs(Text, {\n          style: styles.text,\n          children: [item.id, item.first_name, ' ', item.last_name, ' ', _jsx(CustomButtonSmall, {\n            text: \"Accept\",\n            onPress: function onPress() {\n              return onAccept(item.user_id);\n            }\n          }), ' ', _jsx(CustomButtonSmall, {\n            text: \"Reject\",\n            onPress: function onPress() {\n              return onReject(item.user_id);\n            }\n          })]\n        })\n      });\n    }\n  };\n\n  var ItemSeperatorView = function ItemSeperatorView() {\n    return _jsx(View, {\n      style: {\n        height: 0.5,\n        width: '100%',\n        backgroundColor: 'white'\n      }\n    });\n  };\n\n  useEffect(function () {\n    checkLoggedIn();\n    getFriendRequests();\n  }, []);\n  return _jsx(SafeAreaView, {\n    style: styles.root,\n    children: _jsxs(ScrollView, {\n      children: [_jsx(View, {\n        style: styles.header,\n        children: _jsx(View, {\n          style: styles.titleContainer,\n          children: _jsx(Text, {\n            style: styles.sectionTitle,\n            children: \"Friend Requests\"\n          })\n        })\n      }), _jsx(View, {\n        style: styles.container,\n        children: _jsx(View, {\n          style: styles.text,\n          children: _jsx(FlatList, {\n            data: friendRequests,\n            keyExtractor: function keyExtractor(item, index) {\n              return index.toString();\n            },\n            ItemSeperatorComponent: ItemSeperatorView,\n            renderItem: ItemView\n          })\n        })\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    backgroundColor: '#ffcfe6'\n  },\n  header: {\n    backgroundColor: \"#45ded0\",\n    height: 200\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 30\n  },\n  titleContainer: {\n    paddingTop: 80,\n    paddingHorizontal: 40\n  },\n  sectionTitle: {\n    fontSize: 28,\n    color: \"#696969\",\n    fontWeight: \"600\"\n  },\n  text: {\n    fontSize: 16,\n    color: \"#696969\",\n    marginTop: 10,\n    fontWeight: 'bold'\n  },\n  inputContainer: {\n    backgroundColor: '#fff',\n    width: '90%',\n    borderRadius: 60,\n    borderColor: '#45ded0',\n    borderWidth: 2,\n    paddingHorizontal: 20,\n    paddingVertical: 10,\n    borderRadius: 60\n  }\n});\nexport default FriendRequests;","map":{"version":3,"sources":["E:/Year 3/Mobile App Dev/MADAssignment/master/screens/FriendRequests/FriendRequests.js"],"names":["React","useState","useEffect","AsyncStorage","CustomButtonSmall","FriendRequests","navigate","friendRequests","setFriendRequests","getFriendRequests","getItem","value","userID","fetch","then","response","status","json","props","navigation","responseJson","console","log","catch","error","onAccept","requestedUserID","method","warn","onReject","checkLoggedIn","ItemView","item","length","styles","text","id","first_name","last_name","user_id","ItemSeperatorView","height","width","backgroundColor","root","header","titleContainer","sectionTitle","container","index","toString","StyleSheet","create","flex","justifyContent","alignItems","padding","paddingTop","paddingHorizontal","fontSize","color","fontWeight","marginTop","inputContainer","borderRadius","borderColor","borderWidth","paddingVertical"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;;;;;;;;AAEA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,OAAOC,iBAAP;;;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACxC,kBAA4CL,QAAQ,CAAC,EAAD,CAApD;AAAA;AAAA,MAAOM,cAAP;AAAA,MAAuBC,iBAAvB;;AAEA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACCN,YAAY,CAACO,OAAb,CAAqB,gBAArB,CADD;;AAAA;AACbC,YAAAA,KADa;AAAA;AAAA,6CAEER,YAAY,CAACO,OAAb,CAAqB,UAArB,CAFF;;AAAA;AAEbE,YAAAA,MAFa;AAAA,6CAGZC,KAAK,CAAC,gDAAD,EAAmD;AAC3D,yBAAW;AACX,mCAAoBF;AADT;AADgD,aAAnD,CAAL,CAKNG,IALM,CAKD,UAACC,QAAD,EAAc;AAChB,kBAAGA,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AACvB,uBAAOD,QAAQ,CAACE,IAAT,EAAP;AACH,eAFD,MAEM,IAAGF,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AAC/B,gBAAA,KAAI,CAACE,KAAL,CAAWC,UAAX,CAAsBb,QAAtB,CAA+B,OAA/B;AACD,eAFK,MAED;AACD,sBAAM,sBAAN;AACH;AACJ,aAbM,EAaJQ,IAbI,CAaC,UAACM,YAAD,EAAkB;AACtBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAZ,cAAAA,iBAAiB,CAACY,YAAD,CAAjB;AACH,aAhBM,EAiBNG,KAjBM,CAiBA,UAACC,KAAD,EAAW;AACdH,cAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,aAnBM,CAHY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AAyBG,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAOC,eAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACOvB,YAAY,CAACO,OAAb,CAAqB,gBAArB,CADP;;AAAA;AACPC,YAAAA,KADO;AAAA,8CAENE,KAAK,CAAC,oDAAkDa,eAAnD,EAAoE;AAC5EC,cAAAA,MAAM,EAAE,MADoE;AAE5E,yBAAW;AACX,mCAAoBhB;AADT;AAFiE,aAApE,CAAL,CAMNG,IANM,CAMD,UAACC,QAAD,EAAc;AAEhB,kBAAGA,QAAQ,CAACC,MAAT,KAAoB,GAApB,IAA2BD,QAAQ,CAACC,MAAT,KAAoB,GAAlD,EAAsD;AAClD,uBAAOD,QAAQ,CAACE,IAAT,EAAP;AACH,eAFD,MAEM,IAAGF,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AAC/B,gBAAA,KAAI,CAACE,KAAL,CAAWC,UAAX,CAAsBb,QAAtB,CAA+B,OAA/B;AACD,eAFK,MAED;AACD,sBAAM,sBAAN;AACH;AACJ,aAfM,EAeJQ,IAfI,CAeC,UAACM,YAAD,EAAkB;AACtBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH,aAlBM,EAmBNC,KAnBM,CAmBA,UAACC,KAAD,EAAW;AACdH,cAAAA,OAAO,CAACO,IAAR,CAAaJ,KAAb;AACH,aArBM,CAFM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AA0BA,MAAMK,QAAQ,GAAG,SAAXA,QAAW,CAAOH,eAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACOvB,YAAY,CAACO,OAAb,CAAqB,gBAArB,CADP;;AAAA;AACPC,YAAAA,KADO;AAAA,8CAENE,KAAK,CAAC,oDAAkDa,eAAnD,EAAoE;AAC5EC,cAAAA,MAAM,EAAE,QADoE;AAE5E,yBAAW;AACX,mCAAoBhB;AADT;AAFiE,aAApE,CAAL,CAMNG,IANM,CAMD,UAACC,QAAD,EAAc;AAChBM,cAAAA,OAAO,CAACC,GAAR,CAAYP,QAAQ,CAACC,MAArB;;AACA,kBAAGD,QAAQ,CAACC,MAAT,KAAoB,GAApB,IAA2BD,QAAQ,CAACC,MAAT,KAAoB,GAAlD,EAAsD;AAClD,uBAAOD,QAAQ,CAACE,IAAT,EAAP;AACH,eAFD,MAEM,IAAGF,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AAC/BG,gBAAAA,UAAU,CAACb,QAAX,CAAoB,OAApB;AACD,eAFK,MAED;AACD,sBAAM,sBAAN;AACH;AACJ,aAfM,EAeJQ,IAfI,CAeC,UAACM,YAAD,EAAkB;AACtBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH,aAlBM,EAmBNC,KAnBM,CAmBA,UAACC,KAAD,EAAW;AACdH,cAAAA,OAAO,CAACO,IAAR,CAAaJ,KAAb;AACH,aArBM,CAFM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AA0BA,MAAMM,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACE3B,YAAY,CAACO,OAAb,CAAqB,gBAArB,CADF;;AAAA;AACZC,YAAAA,KADY;;AAElB,gBAAIA,KAAK,IAAI,IAAb,EAAmB;AACfQ,cAAAA,UAAU,CAACb,QAAX,CAAoB,OAApB;AACH;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAOA,MAAMyB,QAAQ,GAAG,SAAXA,QAAW,QAAY;AAAA,QAAVC,IAAU,SAAVA,IAAU;;AACzB,QAAIzB,cAAc,CAAC0B,MAAf,KAA0B,CAA9B,EAAgC;AAC5BZ,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,aACI,KAAC,IAAD;AAAA,kBACI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEY,MAAM,CAACC,IAApB;AAAA;AAAA;AADJ,QADJ;AAKH,KAPD,MAOO;AACH,aACI,KAAC,IAAD;AAAA,kBACI,MAAC,IAAD;AAAM,UAAA,KAAK,EAAED,MAAM,CAACC,IAApB;AAAA,qBACKH,IAAI,CAACI,EADV,EACcJ,IAAI,CAACK,UADnB,EAC+B,GAD/B,EACoCL,IAAI,CAACM,SADzC,EACoD,GADpD,EACwD,KAAC,iBAAD;AAAmB,YAAA,IAAI,EAAC,QAAxB;AAAiC,YAAA,OAAO,EAAE;AAAA,qBAAMb,QAAQ,CAACO,IAAI,CAACO,OAAN,CAAd;AAAA;AAA1C,YADxD,EACkI,GADlI,EACsI,KAAC,iBAAD;AAAmB,YAAA,IAAI,EAAC,QAAxB;AAAiC,YAAA,OAAO,EAAE;AAAA,qBAAMV,QAAQ,CAACG,IAAI,CAACO,OAAN,CAAd;AAAA;AAA1C,YADtI;AAAA;AADJ,QADJ;AAOH;AACJ,GAjBD;;AAmBA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC5B,WACI,KAAC,IAAD;AACI,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAE,GAAT;AAAcC,QAAAA,KAAK,EAAE,MAArB;AAA6BC,QAAAA,eAAe,EAAE;AAA9C;AADX,MADJ;AAKH,GAND;;AAQAzC,EAAAA,SAAS,CAAC,YAAM;AACd4B,IAAAA,aAAa;AACbrB,IAAAA,iBAAiB;AAClB,GAHQ,EAGN,EAHM,CAAT;AAKH,SACC,KAAC,YAAD;AAAc,IAAA,KAAK,EAAEyB,MAAM,CAACU,IAA5B;AAAA,cACM,MAAC,UAAD;AAAA,iBACI,KAAC,IAAD;AAAM,QAAA,KAAK,EAAEV,MAAM,CAACW,MAApB;AAAA,kBAEI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEX,MAAM,CAACY,cAApB;AAAA,oBACI,KAAC,IAAD;AAAM,YAAA,KAAK,EAAEZ,MAAM,CAACa,YAApB;AAAA;AAAA;AADJ;AAFJ,QADJ,EAOI,KAAC,IAAD;AAAM,QAAA,KAAK,EAAEb,MAAM,CAACc,SAApB;AAAA,kBACI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEd,MAAM,CAACC,IAApB;AAAA,oBACI,KAAC,QAAD;AACI,YAAA,IAAI,EAAE5B,cADV;AAEI,YAAA,YAAY,EAAE,sBAACyB,IAAD,EAAOiB,KAAP;AAAA,qBAAiBA,KAAK,CAACC,QAAN,EAAjB;AAAA,aAFlB;AAGI,YAAA,sBAAsB,EAAEV,iBAH5B;AAII,YAAA,UAAU,EAAET;AAJhB;AADJ;AADJ,QAPJ;AAAA;AADN,IADD;AAsBA,CA7ID;;AA+IA,IAAMG,MAAM,GAAGiB,UAAU,CAACC,MAAX,CAAkB;AAChCR,EAAAA,IAAI,EAAE;AACLS,IAAAA,IAAI,EAAE,CADD;AAELV,IAAAA,eAAe,EAAE;AAFZ,GAD0B;AAKhCE,EAAAA,MAAM,EAAC;AACAF,IAAAA,eAAe,EAAE,SADjB;AAEAF,IAAAA,MAAM,EAAC;AAFP,GALyB;AAShCO,EAAAA,SAAS,EAAE;AACVK,IAAAA,IAAI,EAAE,CADI;AAEVC,IAAAA,cAAc,EAAE,YAFN;AAGVC,IAAAA,UAAU,EAAE,QAHF;AAIVC,IAAAA,OAAO,EAAE;AAJC,GATqB;AAehCV,EAAAA,cAAc,EAAE;AACfW,IAAAA,UAAU,EAAE,EADG;AAEfC,IAAAA,iBAAiB,EAAE;AAFJ,GAfgB;AAmBhCX,EAAAA,YAAY,EAAE;AACbY,IAAAA,QAAQ,EAAC,EADI;AAEPC,IAAAA,KAAK,EAAE,SAFA;AAGPC,IAAAA,UAAU,EAAE;AAHL,GAnBkB;AAwB7B1B,EAAAA,IAAI,EAAE;AACFwB,IAAAA,QAAQ,EAAC,EADP;AAEFC,IAAAA,KAAK,EAAE,SAFL;AAGFE,IAAAA,SAAS,EAAC,EAHR;AAIFD,IAAAA,UAAU,EAAE;AAJV,GAxBuB;AA8B7BE,EAAAA,cAAc,EAAE;AAClBpB,IAAAA,eAAe,EAAE,MADC;AAElBD,IAAAA,KAAK,EAAE,KAFW;AAGlBsB,IAAAA,YAAY,EAAE,EAHI;AAIlBC,IAAAA,WAAW,EAAE,SAJK;AAKlBC,IAAAA,WAAW,EAAE,CALK;AAMZR,IAAAA,iBAAiB,EAAE,EANP;AAOlBS,IAAAA,eAAe,EAAE,EAPC;AAQlBH,IAAAA,YAAY,EAAE;AARI;AA9Ba,CAAlB,CAAf;AA0CA,eAAe3D,cAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { View, Text, StyleSheet, TextInput, Image, SafeAreaView, FlatList, ScrollView} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport CustomButtonSmall from '../../components/customButtonSmall';\r\n\r\nconst FriendRequests = ({ navigate }) => {\r\n\tconst [friendRequests, setFriendRequests] = useState('');\r\n\r\n\tconst getFriendRequests = async () => {\r\n        const value = await AsyncStorage.getItem('@session_token');\r\n        const userID = await AsyncStorage.getItem('@user_id')\r\n        return fetch(\"http://localhost:3333/api/1.0.0/friendrequests\", {\r\n            'headers': {\r\n            'X-Authorization':  value\r\n            }\r\n        })\r\n        .then((response) => {\r\n            if(response.status === 200){\r\n                return response.json()\r\n            }else if(response.status === 401){\r\n              this.props.navigation.navigate(\"Login\");\r\n            }else{\r\n                throw 'Something went wrong';\r\n            }\r\n        }).then((responseJson) => {\r\n            console.log(responseJson);\r\n            setFriendRequests(responseJson);\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    const onAccept = async (requestedUserID) => {\r\n        const value = await AsyncStorage.getItem('@session_token');\r\n        return fetch(\"http://localhost:3333/api/1.0.0/friendrequests/\"+requestedUserID, {\r\n            method: \"POST\",\r\n            'headers': {\r\n            'X-Authorization':  value\r\n            }\r\n        })\r\n        .then((response) => {\r\n            //console.log(response.status);\r\n            if(response.status === 200 || response.status === 201){\r\n                return response.json()\r\n            }else if(response.status === 401){\r\n              this.props.navigation.navigate(\"Login\");\r\n            }else{\r\n                throw 'Something went wrong';\r\n            }\r\n        }).then((responseJson) => {\r\n            console.log(responseJson);\r\n            console.log(\"Request Accepted.\");\r\n        })\r\n        .catch((error) => {\r\n            console.warn(error);\r\n        })\r\n    }\r\n\r\n    const onReject = async (requestedUserID) => {\r\n        const value = await AsyncStorage.getItem('@session_token');\r\n        return fetch(\"http://localhost:3333/api/1.0.0/friendrequests/\"+requestedUserID, {\r\n            method: \"DELETE\",\r\n            'headers': {\r\n            'X-Authorization':  value\r\n            }\r\n        })\r\n        .then((response) => {\r\n            console.log(response.status);\r\n            if(response.status === 200 || response.status === 201){\r\n                return response.json()\r\n            }else if(response.status === 401){\r\n              navigation.navigate(\"Login\");\r\n            }else{\r\n                throw 'Something went wrong';\r\n            }\r\n        }).then((responseJson) => {\r\n            console.log(responseJson);\r\n            console.log(\"Request Rejected.\");\r\n        })\r\n        .catch((error) => {\r\n            console.warn(error);\r\n        })\r\n    }\r\n    \r\n    const checkLoggedIn = async () => {\r\n        const value = await AsyncStorage.getItem('@session_token');\r\n        if (value == null) {\r\n            navigation.navigate('Login');\r\n        }\r\n    };\r\n\r\n    const ItemView = ({item}) => {\r\n        if (friendRequests.length === 0){\r\n            console.log(\"0 New Requests.\");\r\n            return (\r\n                <View>\r\n                    <Text style={styles.text}>0 New Requests.</Text>\r\n                </View>\r\n            );\r\n        } else {\r\n            return (\r\n                <View>\r\n                    <Text style={styles.text}>\r\n                        {item.id}{item.first_name}{' '}{item.last_name}{' '}<CustomButtonSmall text=\"Accept\" onPress={() => onAccept(item.user_id)}/>{' '}<CustomButtonSmall text=\"Reject\" onPress={() => onReject(item.user_id)}/>\r\n                    </Text>\r\n                </View>\r\n            );\r\n        } \r\n    }\r\n\r\n    const ItemSeperatorView = () => {\r\n        return (\r\n            <View \r\n                style={{height: 0.5, width: '100%', backgroundColor: 'white'}}\r\n            />\r\n        );\r\n    }\r\n\r\n    useEffect(() => {\r\n      checkLoggedIn();\r\n      getFriendRequests();\r\n    }, []);\r\n\r\n\treturn (\r\n\t\t<SafeAreaView style={styles.root}>\r\n        <ScrollView>\r\n            <View style={styles.header}>\r\n                {/*Friends Requests Page*/}\r\n                <View style={styles.titleContainer}>\r\n                    <Text style={styles.sectionTitle}>Friend Requests</Text>\r\n    \t        </View>\r\n            </View>\r\n            <View style={styles.container}>\r\n                <View style={styles.text}>\r\n                    <FlatList\r\n                        data={friendRequests}\r\n                        keyExtractor={(item, index) => index.toString()}\r\n                        ItemSeperatorComponent={ItemSeperatorView}\r\n                        renderItem={ItemView}\r\n                    />\r\n                </View>  \r\n            </View>\r\n        </ScrollView>\r\n\t\t</SafeAreaView>\r\n\t);\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: '#ffcfe6',\r\n\t},\r\n\theader:{\r\n        backgroundColor: \"#45ded0\",\r\n        height:200,\r\n    },\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\tjustifyContent: 'flex-start',\r\n\t\talignItems: 'center',\r\n\t\tpadding: 30\r\n\t},\r\n\ttitleContainer: {\r\n\t\tpaddingTop: 80,\r\n\t\tpaddingHorizontal: 40,\r\n\t},\r\n\tsectionTitle: {\r\n\t\tfontSize:28,\r\n        color: \"#696969\",\r\n        fontWeight: \"600\"\r\n\t},\r\n    text: {\r\n        fontSize:16,\r\n        color: \"#696969\",\r\n        marginTop:10,\r\n        fontWeight: 'bold'\r\n    },\r\n    inputContainer: {\r\n\t\tbackgroundColor: '#fff',\r\n\t\twidth: '90%',\r\n\t\tborderRadius: 60,\r\n\t\tborderColor: '#45ded0',\r\n\t\tborderWidth: 2,\t\r\n        paddingHorizontal: 20,\r\n\t\tpaddingVertical: 10,\r\n\t\tborderRadius: 60,\r\n    }\r\n});\r\n\r\nexport default FriendRequests;"]},"metadata":{},"sourceType":"module"}