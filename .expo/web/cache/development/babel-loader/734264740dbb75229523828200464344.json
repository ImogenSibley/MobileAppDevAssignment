{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport CustomInput from \"../../components/customInput\";\nimport CustomButton from \"../../components/customButton\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Search = function Search() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      userList = _useState2[0],\n      setUserList = _useState2[1];\n\n  var getAllUsers = function getAllUsers() {\n    var value;\n    return _regeneratorRuntime.async(function getAllUsers$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@session_token'));\n\n          case 2:\n            value = _context.sent;\n            return _context.abrupt(\"return\", fetch(\"http://localhost:3333/api/1.0.0/search\", {\n              'headers': {\n                'X-Authorization': value\n              }\n            }).then(function (response) {\n              if (response.status === 200) {\n                return response.json();\n              } else if (response.status === 401) {\n                _this.props.navigation.navigate(\"Login\");\n              } else {\n                throw 'Something went wrong';\n              }\n            }).then(function (responseJson) {\n              console.log(responseJson);\n              var users = responseJson;\n              setUserList(users);\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var checkLoggedIn = function checkLoggedIn() {\n    var value;\n    return _regeneratorRuntime.async(function checkLoggedIn$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@session_token'));\n\n          case 2:\n            value = _context2.sent;\n\n            if (value == null) {\n              _this.props.navigation.navigate('Login');\n            }\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    checkLoggedIn();\n    getAllUsers();\n  }, []);\n  return _jsx(SafeAreaView, {\n    style: styles.root,\n    children: _jsx(View, {\n      style: styles.header,\n      children: _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(View, {\n          style: styles.titleContainer,\n          children: _jsx(Text, {\n            style: styles.sectionTitle,\n            children: \"Search\"\n          })\n        }), _jsx(CustomInput, {\n          placeholder: \"Enter a name...\"\n        }), _jsx(CustomButton, {\n          text: \"Find Friends\"\n        }), _jsx(View, {\n          style: styles.bodyContent,\n          children: _jsx(Text, {\n            children: \"List of Users\"\n          })\n        })]\n      })\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    backgroundColor: '#ffcfe6'\n  },\n  header: {\n    backgroundColor: \"#45ded0\",\n    height: 200\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    padding: 30\n  },\n  titleContainer: {\n    paddingTop: 80,\n    paddingHorizontal: 40\n  },\n  sectionTitle: {\n    fontSize: 28,\n    color: \"#696969\",\n    fontWeight: \"600\"\n  },\n  results: {\n    fontSize: 16,\n    color: \"#696969\",\n    marginTop: 10\n  }\n});\nexport default Search;","map":{"version":3,"sources":["E:/Year 3/Mobile App Dev/MADAssignment/master/screens/Search/Search.js"],"names":["React","useState","useEffect","CustomInput","CustomButton","AsyncStorage","Search","userList","setUserList","getAllUsers","getItem","value","fetch","then","response","status","json","props","navigation","navigate","responseJson","console","log","users","catch","error","checkLoggedIn","styles","root","header","container","titleContainer","sectionTitle","bodyContent","StyleSheet","create","flex","backgroundColor","height","justifyContent","alignItems","padding","paddingTop","paddingHorizontal","fontSize","color","fontWeight","results","marginTop"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { View, Text, StyleSheet, TextInput, Image, SafeAreaView, FlatList} from 'react-native';\r\nimport CustomInput from '../../components/customInput';\r\nimport CustomButton from '../../components/customButton';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst Search = () => {\r\n  const [userList, setUserList] = useState('');\r\n\r\n  const getAllUsers = async () => {\r\n    const value = await AsyncStorage.getItem('@session_token');\r\n    return fetch(\"http://localhost:3333/api/1.0.0/search\", {\r\n          'headers': {\r\n            'X-Authorization':  value\r\n          }\r\n        })\r\n        .then((response) => {\r\n            if(response.status === 200){\r\n                return response.json()\r\n            }else if(response.status === 401){\r\n              this.props.navigation.navigate(\"Login\");\r\n            }else{\r\n                throw 'Something went wrong';\r\n            }\r\n        })\r\n        .then((responseJson) => {\r\n           console.log(responseJson);\r\n           let users = responseJson; \r\n           setUserList(users);\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        })\r\n  };\r\n\r\n  const checkLoggedIn = async () => {\r\n    const value = await AsyncStorage.getItem('@session_token');\r\n    if (value == null) {\r\n        this.props.navigation.navigate('Login');\r\n    }\r\n  };\r\n\r\n   useEffect(() => {\r\n        checkLoggedIn();\r\n        getAllUsers();\r\n    }, []);\r\n\r\n    return (\r\n\t\t<SafeAreaView style={styles.root}>\r\n            <View style={styles.header}>\r\n                <View style={styles.container}>\r\n                    {/*Search Page*/}\r\n                    <View style={styles.titleContainer}>\r\n                        <Text style={styles.sectionTitle}>Search</Text>\r\n\t\t\t        </View>\r\n                    {/*Text Input for Searching for friends*/}\r\n\t\t\t        <CustomInput placeholder=\"Enter a name...\"/>\r\n\t\t\t        {/*Button to Search*/}\r\n\t\t\t        <CustomButton text=\"Find Friends\"/>\r\n                    <View style={styles.bodyContent}>\r\n                        <Text>List of Users</Text>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n\t\t</SafeAreaView>\r\n\t);\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: '#ffcfe6',\r\n\t},\r\n\theader:{\r\n        backgroundColor: \"#45ded0\",\r\n        height:200,\r\n    },\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\tjustifyContent: 'flex-start',\r\n\t\talignItems: 'center',\r\n\t\tpadding: 30\r\n\t},\r\n\ttitleContainer: {\r\n\t\tpaddingTop: 80,\r\n\t\tpaddingHorizontal: 40,\r\n\t},\r\n\tsectionTitle: {\r\n\t\tfontSize:28,\r\n        color: \"#696969\",\r\n        fontWeight: \"600\"\r\n\t},\r\n    results: {\r\n        fontSize:16,\r\n        color: \"#696969\",\r\n        marginTop:10\r\n    }\r\n});\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}