{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport CustomInput from \"../../components/customInput\";\nimport CustomButton from \"../../components/customButton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar AccountSettings = function AccountSettings() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      firstName = _useState6[0],\n      setFirstName = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastName = _useState8[0],\n      setLastName = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      errorMess = _useState10[0],\n      setErrorMess = _useState10[1];\n\n  var getAccountDetails = function getAccountDetails() {\n    var value, userID;\n    return _regeneratorRuntime.async(function getAccountDetails$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"@session_token\"));\n\n          case 2:\n            value = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"@user_id\"));\n\n          case 5:\n            userID = _context.sent;\n            return _context.abrupt(\"return\", fetch(\"http://localhost:3333/api/1.0.0/user/\" + userID, {\n              headers: {\n                \"X-Authorization\": value\n              }\n            }).then(function (response) {\n              if (response.status === 200 || response.status === 201) {\n                return response.json();\n              } else if (response.status === 401) {\n                navigation.navigate(\"Login\");\n              } else {\n                console.log(response.status);\n                throw 'Something went wrong';\n              }\n            }).then(function (responseJson) {\n              setIsLoading(false);\n              var first = responseJson.first_name;\n              setFirstName(first);\n              var last = responseJson.last_name;\n              setLastName(last);\n              var emailAddress = responseJson.email;\n              setEmail(emailAddress);\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var updateAccountDetails = function updateAccountDetails(firstInput, lastInput, emailInput, passInput) {\n    var value, userID;\n    return _regeneratorRuntime.async(function updateAccountDetails$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"@session_token\"));\n\n          case 2:\n            value = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"@user_id\"));\n\n          case 5:\n            userID = _context2.sent;\n            return _context2.abrupt(\"return\", fetch(\"http://localhost:3333/api/1.0.0/user/\" + userID, {\n              method: 'PATCH',\n              headers: {\n                \"X-Authorization\": value,\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"first_name\": firstInput,\n                \"last_name\": lastInput,\n                \"email\": emailInput,\n                \"password\": passInput\n              })\n            }).then(function (response) {\n              if (response.status === 200 || response.status === 201) {\n                return response.json();\n              } else if (response.status === 401) {\n                navigation.navigate(\"Login\");\n              } else {\n                console.log(response.status);\n                throw 'Something went wrong';\n              }\n            }).then(function (responseJson) {\n              setErrorMess('Account Updated.');\n              console.log('Account Updated.');\n            }).catch(function (error) {\n              console.log(error);\n            }));\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var validateEmail = function validateEmail(email) {\n    var expression = /(?!.*\\.{2})^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([\\t]*\\r\\n)?[\\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([\\t]*\\r\\n)?[\\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i;\n    return expression.test(String(email).toLowerCase());\n  };\n\n  useEffect(function () {\n    checkLoggedIn();\n    getAccountDetails();\n  }, []);\n\n  if (isLoading) {\n    return _jsx(SafeAreaView, {\n      style: styles.root,\n      children: _jsx(View, {\n        children: _jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Loading...\"\n        })\n      })\n    });\n  } else {\n    return _jsxs(SafeAreaView, {\n      style: styles.root,\n      children: [_jsx(View, {\n        style: styles.header,\n        children: _jsx(View, {\n          style: styles.titleContainer,\n          children: _jsx(Text, {\n            style: styles.sectionTitle,\n            children: \"Edit Post\"\n          })\n        })\n      }), _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(Text, {\n          style: styles.post,\n          children: errorMess\n        }), _jsx(Text, {\n          style: styles.post,\n          children: postContent\n        }), _jsx(CustomInput, {\n          placeholder: \"Edit your post here...\",\n          value: postChanges,\n          setValue: setPostChanges\n        }), _jsx(CustomButton, {\n          text: \"Save Changes\",\n          onPress: function onPress() {\n            return editPost(postChanges);\n          }\n        }), _jsx(CustomButton, {\n          text: \"Delete\",\n          onPress: function onPress() {\n            return deletePost();\n          }\n        })]\n      })]\n    });\n  }\n};\n\nvar styles = StyleSheet.create({\n  root: {\n    flex: 1,\n    backgroundColor: '#ffcfe6'\n  },\n  header: {\n    backgroundColor: \"#45ded0\",\n    height: 200\n  },\n  body: {\n    marginTop: 40\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    padding: 30\n  },\n  titleContainer: {\n    paddingTop: 80,\n    paddingHorizontal: 40,\n    padding: 30,\n    alignSelf: 'center'\n  },\n  sectionTitle: {\n    fontSize: 28,\n    color: \"#696969\",\n    fontWeight: \"600\",\n    alignItems: 'center'\n  },\n  postContainer: {\n    justifyContent: 'space-between',\n    alignSelf: 'center',\n    alignContent: 'center',\n    backgroundColor: '#ffffff',\n    width: '90%',\n    borderColor: '#45ded0',\n    borderWidth: 1\n  },\n  post: {\n    fontSize: 16,\n    color: \"#696969\",\n    fontWeight: 'bold',\n    alignItems: 'center',\n    paddingHorizontal: 20,\n    paddingVertical: 10\n  }\n});\nexport default AccountSettings;","map":{"version":3,"sources":["E:/Year 3/Mobile App Dev/MADAssignment/master/screens/AccountSettings/AccountSettings.js"],"names":["React","useState","useEffect","AsyncStorage","CustomInput","CustomButton","AccountSettings","email","setEmail","password","setPassword","firstName","setFirstName","lastName","setLastName","errorMess","setErrorMess","getAccountDetails","getItem","value","userID","fetch","headers","then","response","status","json","navigation","navigate","console","log","responseJson","setIsLoading","first","first_name","last","last_name","emailAddress","catch","error","updateAccountDetails","firstInput","lastInput","emailInput","passInput","method","body","JSON","stringify","validateEmail","expression","test","String","toLowerCase","checkLoggedIn","isLoading","styles","root","sectionTitle","header","titleContainer","container","post","postContent","postChanges","setPostChanges","editPost","deletePost","StyleSheet","create","flex","backgroundColor","height","marginTop","alignItems","padding","paddingTop","paddingHorizontal","alignSelf","fontSize","color","fontWeight","postContainer","justifyContent","alignContent","width","borderColor","borderWidth","paddingVertical"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { Text, View, SafeAreaView, StyleSheet, ActivityIndicator, FlatList, Button, Alert, AsyncStorage } from 'react-native';\r\nimport CustomInput from '../../components/customInput';\r\nimport CustomButton from '../../components/customButton';\r\n\r\nconst AccountSettings = () => {\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [firstName, setFirstName] = useState('');\r\n\tconst [lastName, setLastName] = useState('');\r\n\tconst [errorMess, setErrorMess] = useState('');\r\n\r\n    const getAccountDetails = async () => {\r\n        const value = await AsyncStorage.getItem(\"@session_token\");\r\n        const userID = await AsyncStorage.getItem(\"@user_id\")\r\n        return fetch(\"http://localhost:3333/api/1.0.0/user/\" + userID, {\r\n            headers: {\r\n                \"X-Authorization\": value,\r\n            },\r\n        }).then((response) => {\r\n            if (response.status === 200 || response.status === 201) {\r\n                return response.json()\r\n            } else if (response.status === 401) {\r\n                navigation.navigate(\"Login\");\r\n            } else {\r\n                console.log(response.status);\r\n                throw 'Something went wrong';\r\n            }\r\n        }).then((responseJson) => {\r\n            setIsLoading(false);\r\n            let first = responseJson.first_name; \r\n            setFirstName(first);\r\n            let last = responseJson.last_name; \r\n            setLastName(last);\r\n            let emailAddress = responseJson.email;\r\n            setEmail(emailAddress);\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    const updateAccountDetails = async (firstInput, lastInput, emailInput, passInput) => {\r\n        const value = await AsyncStorage.getItem(\"@session_token\");\r\n        const userID = await AsyncStorage.getItem(\"@user_id\")\r\n        return fetch(\"http://localhost:3333/api/1.0.0/user/\" + userID, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                \"X-Authorization\": value,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                \"first_name\": firstInput,\r\n                \"last_name\": lastInput,\r\n                \"email\": emailInput,\r\n                \"password\": passInput,\r\n            })\r\n        }).then((response) => {\r\n            if (response.status === 200 || response.status === 201) {\r\n                return response.json()\r\n            } else if (response.status === 401) {\r\n                navigation.navigate(\"Login\");\r\n            } else {\r\n                console.log(response.status);\r\n                throw 'Something went wrong';\r\n            }\r\n        }).then((responseJson) => {\r\n            setErrorMess('Account Updated.');\r\n            console.log('Account Updated.');\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n\tconst validateEmail = (email) => {\r\n\t\tconst expression = /(?!.*\\.{2})^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([\\t]*\\r\\n)?[\\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([\\t]*\\r\\n)?[\\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i;\r\n\t\treturn expression.test(String(email).toLowerCase())\r\n\t}\r\n\r\n     useEffect(() => {\r\n        checkLoggedIn();\r\n        getAccountDetails();\r\n    }, [])\r\n\r\n\t   if (isLoading) {\r\n        return (\r\n            <SafeAreaView style={styles.root}>\r\n                <View><Text style={styles.sectionTitle}>Loading...</Text></View>\r\n            </SafeAreaView>\r\n        );\r\n    } else {\r\n        return (\r\n            <SafeAreaView style={styles.root}>\r\n                <View style={styles.header}>\r\n                    {/*Spacebook Logo*/}\r\n                    {/*Edit Post Page*/}\r\n                    <View style={styles.titleContainer}>\r\n                        <Text style={styles.sectionTitle}>Edit Post</Text>\r\n                    </View>\r\n                </View>\r\n                <View style={styles.container}>\r\n                     <Text style={styles.post}>{errorMess}</Text>\r\n                     {/*Post displayed here*/}\r\n                     <Text style={styles.post}>{postContent}</Text>\r\n                     {/*Text Input for Editing a Post*/}\r\n                     <CustomInput placeholder=\"Edit your post here...\" value={postChanges} setValue={setPostChanges} />\r\n                     {/*Button to Save Changes or Delete*/}\r\n                     <CustomButton text=\"Save Changes\" onPress={() => editPost(postChanges)} />\r\n                     <CustomButton text=\"Delete\" onPress={() => deletePost()} />\r\n                </View>\r\n            </SafeAreaView>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: '#ffcfe6',\r\n\t},\r\n    header:{\r\n        backgroundColor: \"#45ded0\",\r\n        height:200,\r\n    },\r\n    body:{\r\n        marginTop:40,\r\n    },\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n        alignItems: 'center',\r\n        padding: 30,\r\n\t},\r\n\ttitleContainer: {\r\n\t\tpaddingTop: 80,\r\n\t\tpaddingHorizontal: 40,\r\n        padding: 30,\r\n        alignSelf: 'center'\r\n\t},\r\n\tsectionTitle: {\r\n        fontSize:28,\r\n        color: \"#696969\",\r\n        fontWeight: \"600\",\r\n        alignItems: 'center',\r\n\t},\r\n    postContainer: {\r\n        justifyContent: 'space-between',\r\n        alignSelf: 'center',\r\n        alignContent: 'center',\r\n    \tbackgroundColor: '#ffffff',\r\n        width: '90%',\r\n\t\tborderColor: '#45ded0',\r\n\t\tborderWidth: 1,\t\r\n    },\r\n    post: {\r\n        fontSize:16,\r\n        color: \"#696969\",\r\n        fontWeight: 'bold',\r\n        alignItems: 'center',\r\n        paddingHorizontal: 20,\r\n        paddingVertical: 10,\r\n    }\r\n});\r\n\r\nexport default AccountSettings;"]},"metadata":{},"sourceType":"module"}